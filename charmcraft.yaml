type: charm

links:
  contact: Dell OpenStack charmers <openstack@dell.com>
  docmentation: https://github.com/dell-esg/powermax-cinder-charm/blob/main/README.md
  source:
  - https://github.com/dell-esg/powermax-cinder-charm

parts:
  charm:
    after:
      - update-certificates
    charm-python-packages:
      # NOTE(lourot): see
      # * https://github.com/canonical/charmcraft/issues/551
      - setuptools
    build-packages:
      - git

  update-certificates:
    plugin: nil
    # See https://github.com/canonical/charmcraft/issues/658
    override-build: |
      apt update
      apt install -y ca-certificates
      update-ca-certificates

platforms:
  ubuntu@22.04:amd64:

